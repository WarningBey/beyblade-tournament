<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Beyblade Manager Pro</title>
  <meta name="theme-color" content="#0f172a" />

  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="container">
    <!-- === HEADER === -->
    <header class="header">
      <div class="header-left">
        <div class="brand">
          <!-- Icono escudo -->
          <svg class="brand-icon" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
          </svg>
          <h1 class="brand-title">BEY<span class="brand-accent">MANAGER</span></h1>
        </div>

        <div class="meta-pill">
          Meta: <strong class="meta-points">4 Pts</strong>
        </div>
      </div>

      <div class="header-right controls-stack">
        <button id="btn-backup" class="btn btn-ghost" type="button">üíæ Guardar</button>
        <button id="btn-home" class="btn btn-ghost btn-ghost-danger" type="button">üè† Inicio</button>
      </div>
    </header>

    <!-- === VIEW 1: REGISTRATION === -->
    <section id="view-registration">
      <div class="card card-narrow">
        <h2 class="card-title">Registro de Bladers</h2>

        <div class="row gap-10 mb-15">
          <input
            type="text"
            id="input-player"
            class="input-dark"
            placeholder="Nombre..."
            autocomplete="off"
          />
          <button id="btn-add-player" class="btn btn-primary btn-icon" type="button">+</button>
        </div>

        <div class="row-between mb-5 subheader">
          <span>Lista de Inscritos</span>
          <span class="subheader-total">Total: <span id="player-counter">0</span></span>
        </div>

        <div id="players-list" class="players-list">
          <p class="placeholder text-center">Agrega jugadores para comenzar</p>
        </div>

        <!-- Configuraci√≥n -->
        <div id="group-config" class="config-block hidden">
          <div class="config-row">
            <label class="config-label" for="group-slider">Grupos:</label>
            <div class="config-control">
              <input
                type="range"
                id="group-slider"
                min="1"
                max="1"
                value="1"
              />
              <span id="group-count-display" class="pill">1</span>
            </div>
          </div>

          <div class="config-row">
            <label class="config-label" for="rounds-input">Rondas:</label>
            <div class="config-control">
              <input
                type="number"
                id="rounds-input"
                min="1"
                max="10"
                value="1"
                class="input-dark input-mini"
              />
              <span id="rounds-max-msg" class="help-text"></span>
            </div>
          </div>

          <p id="group-info" class="help-text text-center mt-10"></p>
        </div>

        <button id="btn-start" class="btn btn-success btn-full mt-15" type="button" disabled>
          INICIAR TORNEO
        </button>
      </div>
    </section>

    <!-- === VIEW 2: GROUPS === -->
    <section id="view-groups" class="hidden">
      <div class="groups-header">
        <h2 class="m-0">Fase de Grupos</h2>

        <div class="row gap-10">
          <div class="cutoff-control">
            <label class="cutoff-label" for="knockout-size-select">Corte Eliminatorio:</label>
            <select id="knockout-size-select" class="input-dark input-select input-cutoff">
              <!-- JS populated -->
            </select>
          </div>

          <button id="btn-to-knockout" class="btn btn-warning" type="button">
            Ir a Llaves ¬ª
          </button>
        </div>
      </div>

      <!-- Tabla general -->
      <div class="card card-compact">
        <h3 class="section-title">Tabla General de Clasificaci√≥n</h3>

        <div class="standings-container">
          <table class="global-table">
            <thead>
              <tr>
                <th style="width: 40px;">#</th>
                <th>Blader</th>
                <th>Grupo</th>
                <th class="text-center">W</th>
                <th class="text-center">Pts</th>
              </tr>
            </thead>
            <tbody id="global-standings-body">
              <!-- JS populated -->
            </tbody>
          </table>
        </div>

        <div class="legend text-center">
          <span class="legend-box legend-ok"></span> Clasifican a Eliminatorias
          <span class="legend-sep">|</span>
          <span class="legend-cut">---</span> L√≠nea de Corte
        </div>
      </div>

      <div id="groups-container" class="groups-grid">
        <!-- JS populated -->
      </div>
    </section>

    <!-- === VIEW 3: KNOCKOUT === -->
    <section id="view-knockout" class="hidden knockout">
      <h2 class="text-center knockout-title">Fase Eliminatoria</h2>

      <div class="text-center mb-15">
        <span id="round-badge" class="badge">Ronda 1</span>
      </div>

      <div id="bracket-container">
        <!-- JS populated -->
      </div>

      <button id="btn-advance" class="btn btn-primary btn-full btn-xl mt-20" type="button">
        Confirmar Resultados y Avanzar
      </button>
    </section>

    <!-- === VIEW 4: WINNER === -->
    <section id="view-winner" class="hidden winner text-center">
      <div class="winner-icon">üèÜ</div>
      <h2 class="winner-subtitle">Gran Campe√≥n</h2>

      <div id="champion-name" class="winner-name">NOMBRE</div>

      <div id="third-place-container" class="hidden third-place">
        <div class="third-icon">ü•â</div>
        <h3 class="third-title">3er Lugar</h3>
        <div id="third-place-name" class="third-name"></div>
      </div>

      <button id="btn-new-tournament" class="btn btn-ghost mt-40" type="button">
        Iniciar Nuevo Torneo
      </button>
    </section>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite">Guardado</div>

  <!-- Controller (MVC) -->
  <script type="module" src="./src/controller.js"></script>
</body>
</html>
